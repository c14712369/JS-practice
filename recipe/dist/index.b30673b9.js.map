{"mappings":"kpBAsBA,IAAAA,EACAC,E,iJArBA,IAAIC,EAAU,CAAC,EAoBfF,EAlBA,SAAkBG,GAGhB,IAFA,IAAIC,EAAOC,OAAOD,KAAKD,GAEdG,EAAI,EAAGA,EAAIF,EAAKG,OAAQD,IAC/BJ,EAAQE,EAAKE,IAAMH,EAAMC,EAAKE,GAElC,EAaAL,EAXA,SAAiBO,GACf,IAAIC,EAAWP,EAAQM,GAEvB,GAAgB,MAAZC,EACF,MAAM,IAAIC,MAAM,oCAAsCF,GAGxD,OAAOC,CACT,C,ICpBAE,EAAA,SAAAC,SAA8CC,KAAKC,MAAM,iG,MCAzDC,EAAiB,IAAAC,IAAoBL,EAAA,SAAAM,QAA6C,SAAAC,OAAAC,KAAAC,KAAUC,WCM5F,MAAMC,EAAkBC,SAASC,cAAc,YAc5BC,iBACjB,IAEE,MAAMC,QAAiBC,MACrB,6EAGIC,QAAaF,EAASG,OAC5B,IAAKH,EAASI,GAAI,MAAM,IAAIpB,MAAM,GAAGkB,EAAKG,WAAWC,IAAIC,UACzDC,QAAQC,IAAIP,GACZ,IAAIQ,OAAEA,GAAWR,EAAKA,KACtBQ,EAAS,CACP5B,GAAI4B,EAAO5B,GACX6B,MAAOD,EAAOC,MACdC,UAAWF,EAAOE,UAClBC,UAAWH,EAAOI,WAClBC,MAAOL,EAAOM,UACdC,SAAUP,EAAOO,SACjBC,YAAaR,EAAOS,aACpBC,YAAaV,EAAOU,aAEtBZ,QAAQC,IAAIC,GACZF,QAAQC,IAAIY,EAAAhC,IAEZ,MAAMiC,EAAS,0DAEAZ,EAAOK,iTASDM,EAAAhC,sKAGmBqB,EAAOQ,uIAK5BG,EAAAhC,4GAGbqB,EAAOO,u/BAmCLP,EAAOU,YACNG,KACCC,GAAO,2OAMyBA,EAAIC,iHAGLD,EAAIE,cAAcF,EAAIG,yDAItDC,KAAK,wRAUNlB,EAAOE,mKAMDF,EAAOG,6OAUrBjB,EAAgBiC,UAAY,GAC5BjC,EAAgBkC,mBAAmB,aAAcR,EAGnD,CAFE,MAAOS,GACPC,MAAMD,EACR,CACF,CAEAE","sources":["node_modules/@parcel/runtime-js/lib/helpers/bundle-manifest.js","node_modules/@parcel/runtime-js/lib/runtime-5f5957a6f6b0c950.js","node_modules/@parcel/runtime-js/lib/runtime-81377719e79deb95.js","src/js/controller.js"],"sourcesContent":["\"use strict\";\n\nvar mapping = {};\n\nfunction register(pairs) {\n  var keys = Object.keys(pairs);\n\n  for (var i = 0; i < keys.length; i++) {\n    mapping[keys[i]] = pairs[keys[i]];\n  }\n}\n\nfunction resolve(id) {\n  var resolved = mapping[id];\n\n  if (resolved == null) {\n    throw new Error('Could not resolve bundle with id ' + id);\n  }\n\n  return resolved;\n}\n\nmodule.exports.register = register;\nmodule.exports.resolve = resolve;","require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"3EsVB\\\":\\\"index.b30673b9.js\\\",\\\"hm5VY\\\":\\\"icons.c14567a0.svg\\\"}\"));","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"hm5VY\")).toString();","// import icons from '../img/icons.svg';\n// pracel 1\nimport icons from '../img/icons.svg';\n// pracel2\n// after parcel，原本圖片路徑會變，\n\nconst recipeContainer = document.querySelector('.recipe');\n\nconst timeout = function (s) {\n  return new Promise(function (_, reject) {\n    setTimeout(function () {\n      reject(new Error(`Request took too long! Timeout after ${s} second`));\n    }, s * 1000);\n  });\n};\n\n// https://forkify-api.herokuapp.com/v2\n\n///////////////////////////////////////\n\nconst showRecipe = async function () {\n  try {\n    // loading recipr\n    const response = await fetch(\n      'https://forkify-api.herokuapp.com/api/v2/recipes/5ed6604591c37cdc054bc886'\n      // 'https://forkify-api.herokuapp.com/api/v2/recipes/5ed6604591c37cdc054bce32'\n    );\n    const data = await response.json();\n    if (!response.ok) throw new Error(`${data.message} ${res.status}`);\n    console.log(data);\n    let { recipe } = data.data;\n    recipe = {\n      id: recipe.id,\n      title: recipe.title,\n      publisher: recipe.publisher,\n      sourceUrl: recipe.source_Url,\n      image: recipe.image_url,\n      servings: recipe.servings,\n      cookingTime: recipe.cooking_time,\n      ingredients: recipe.ingredients,\n    };\n    console.log(recipe);\n    console.log(icons);\n    // rendaer recipe\n    const markup = `\n      <figure class=\"recipe__fig\">\n        <img src=${recipe.image} alt=\"Tomato\" class=\"recipe__img\" />\n       <h1 class=\"recipe__title\">\n        <span>Pasta with tomato cream sauce</span>\n        </h1>\n     </figure>\n\n      <div class=\"recipe__details\">\n        <div class=\"recipe__info\">\n          <svg class=\"recipe__info-icon\">\n            <use href=\"${icons}#icon-clock\"></use>\n          </svg>\n          <span class=\"recipe__info-data recipe__info-data--minutes\">45</span>\n          <span class=\"recipe__info-text\">${recipe.cookingTime}</span>\n      </div>\n\n      <div class=\"recipe__info\">\n        <svg class=\"recipe__info-icon\">\n          <use href=\"${icons}#icon-users\"></use>\n        </svg>\n        <span class=\"recipe__info-data recipe__info-data--people\">${\n          recipe.servings\n        }</span>\n        <span class=\"recipe__info-text\">servings</span>\n\n        <div class=\"recipe__info-buttons\">\n          <button class=\"btn--tiny btn--increase-servings\">\n            <svg>\n              <use href=\"src/img/icons.svg#icon-minus-circle\"></use>\n            </svg>\n          </button>\n          <button class=\"btn--tiny btn--increase-servings\">\n            <svg>\n              <use href=\"src/img/icons.svg#icon-plus-circle\"></use>\n            </svg>\n          </button>\n        </div>\n      </div>\n\n      <div class=\"recipe__user-generated\">\n        <svg>\n          <use href=\"src/img/icons.svg#icon-user\"></use>\n        </svg>\n      </div>\n\n      <button class=\"btn--round\">\n        <svg class=\"\">\n          <use href=\"src/img/icons.svg#icon-bookmark-fill\"></use>\n        </svg>\n      </button>\n      </div>\n\n      <div class=\"recipe__ingredients\">\n        <h2 class=\"heading--2\">Recipe ingredients</h2>\n        <ul class=\"recipe__ingredient-list\">\n\n          ${recipe.ingredients\n            .map(\n              ele => `\n            <li class=\"recipe__ingredient\">\n              <svg class=\"recipe__icon\">\n                <use href=\"src/img/icons.svg#icon-check\"></use>\n              </svg>\n          \n              <div class=\"recipe__quantity\">${ele.quantity}</div>\n\n              <div class=\"recipe__description\">\n                <span class=\"recipe__unit\">${ele.unit}</span>${ele.description}\n              </div>\n            </li>`\n            )\n            .join('')}\n\n        </ul>\n      </div>\n\n      <div class=\"recipe__directions\">\n        <h2 class=\"heading--2\">How to cook it</h2>\n        <p class=\"recipe__directions-text\">\n          This recipe was carefully designed and tested by\n          <span class=\"recipe__publisher\">${\n            recipe.publisher\n          }</span>. Please check out\n          directions at their website.\n        </p>\n        <a\n          class=\"btn--small recipe__btn\"\n          href=\"${recipe.sourceUrl}\"\n          target=\"_blank\"\n        >\n          <span>Directions</span>\n          <svg class=\"search__icon\">\n            <use href=\"src/img/icons.svg#icon-arrow-right\"></use>\n          </svg>\n        </a>\n      </div>`;\n\n    recipeContainer.innerHTML = '';\n    recipeContainer.insertAdjacentHTML('afterbegin', markup);\n  } catch (err) {\n    alert(err);\n  }\n};\n\nshowRecipe();\n"],"names":["$ef7689007096c8a0$export$6503ec6e8aabbaf","$ef7689007096c8a0$export$f7ad0328861e2f03","$ef7689007096c8a0$var$mapping","pairs","keys","Object","i","length","id","resolved","Error","parcelRequire","register","JSON","parse","$c26f5e64986fd77d$exports","URL","resolve","import","meta","url","toString","$292b382f80842f30$var$recipeContainer","document","querySelector","async","response","fetch","data","json","ok","message","res","status","console","log","recipe","title","publisher","sourceUrl","source_Url","image","image_url","servings","cookingTime","cooking_time","ingredients","$parcel$interopDefault","markup","map","ele","quantity","unit","description","join","innerHTML","insertAdjacentHTML","err","alert","$292b382f80842f30$var$showRecipe"],"version":3,"file":"index.b30673b9.js.map"}